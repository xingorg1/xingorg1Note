<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue + TS踩坑总结 | 前端印记 DFE_evernote</title>
    <meta name="description" content="xing.org1^ 小石头的前端学习笔记汇总">
    <link rel="icon" href="/xingorg1Note/favicon.ico">
    
    <link rel="preload" href="/xingorg1Note/assets/css/0.styles.668c131b.css" as="style"><link rel="preload" href="/xingorg1Note/assets/js/app.42ff0526.js" as="script"><link rel="preload" href="/xingorg1Note/assets/js/2.40938a97.js" as="script"><link rel="preload" href="/xingorg1Note/assets/js/112.ea090178.js" as="script"><link rel="prefetch" href="/xingorg1Note/assets/js/10.8c5e95be.js"><link rel="prefetch" href="/xingorg1Note/assets/js/100.b62188f0.js"><link rel="prefetch" href="/xingorg1Note/assets/js/101.5c70be7c.js"><link rel="prefetch" href="/xingorg1Note/assets/js/102.76956ba9.js"><link rel="prefetch" href="/xingorg1Note/assets/js/103.6927baca.js"><link rel="prefetch" href="/xingorg1Note/assets/js/104.e11de3d5.js"><link rel="prefetch" href="/xingorg1Note/assets/js/105.81799837.js"><link rel="prefetch" href="/xingorg1Note/assets/js/106.50a3dff1.js"><link rel="prefetch" href="/xingorg1Note/assets/js/107.72999800.js"><link rel="prefetch" href="/xingorg1Note/assets/js/108.ead6a866.js"><link rel="prefetch" href="/xingorg1Note/assets/js/109.c2d6f912.js"><link rel="prefetch" href="/xingorg1Note/assets/js/11.8471e1f8.js"><link rel="prefetch" href="/xingorg1Note/assets/js/110.b24c50fd.js"><link rel="prefetch" href="/xingorg1Note/assets/js/111.70ef4a4a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/113.e3799a37.js"><link rel="prefetch" href="/xingorg1Note/assets/js/114.3491d619.js"><link rel="prefetch" href="/xingorg1Note/assets/js/115.05677fdb.js"><link rel="prefetch" href="/xingorg1Note/assets/js/116.54f594e9.js"><link rel="prefetch" href="/xingorg1Note/assets/js/117.e5f1af07.js"><link rel="prefetch" href="/xingorg1Note/assets/js/118.8e775b83.js"><link rel="prefetch" href="/xingorg1Note/assets/js/119.012df5b8.js"><link rel="prefetch" href="/xingorg1Note/assets/js/12.bfa1f1d9.js"><link rel="prefetch" href="/xingorg1Note/assets/js/120.bdf7d6b0.js"><link rel="prefetch" href="/xingorg1Note/assets/js/121.41ead5fe.js"><link rel="prefetch" href="/xingorg1Note/assets/js/122.2b4ae8af.js"><link rel="prefetch" href="/xingorg1Note/assets/js/123.d045b2ca.js"><link rel="prefetch" href="/xingorg1Note/assets/js/124.e4f6cd15.js"><link rel="prefetch" href="/xingorg1Note/assets/js/13.53c82553.js"><link rel="prefetch" href="/xingorg1Note/assets/js/14.cefad126.js"><link rel="prefetch" href="/xingorg1Note/assets/js/15.0b9aa89b.js"><link rel="prefetch" href="/xingorg1Note/assets/js/16.1af99a45.js"><link rel="prefetch" href="/xingorg1Note/assets/js/17.03d025b3.js"><link rel="prefetch" href="/xingorg1Note/assets/js/18.1617341c.js"><link rel="prefetch" href="/xingorg1Note/assets/js/19.77cc8b14.js"><link rel="prefetch" href="/xingorg1Note/assets/js/20.fa78d3c9.js"><link rel="prefetch" href="/xingorg1Note/assets/js/21.08d4b289.js"><link rel="prefetch" href="/xingorg1Note/assets/js/22.2300d92d.js"><link rel="prefetch" href="/xingorg1Note/assets/js/23.242a61e7.js"><link rel="prefetch" href="/xingorg1Note/assets/js/24.2bd9e1da.js"><link rel="prefetch" href="/xingorg1Note/assets/js/25.9f0ddf89.js"><link rel="prefetch" href="/xingorg1Note/assets/js/26.3030f505.js"><link rel="prefetch" href="/xingorg1Note/assets/js/27.d942a811.js"><link rel="prefetch" href="/xingorg1Note/assets/js/28.abaa7c5b.js"><link rel="prefetch" href="/xingorg1Note/assets/js/29.25e9c718.js"><link rel="prefetch" href="/xingorg1Note/assets/js/3.07080e81.js"><link rel="prefetch" href="/xingorg1Note/assets/js/30.f6ea1205.js"><link rel="prefetch" href="/xingorg1Note/assets/js/31.9412af9a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/32.c5bc8bb7.js"><link rel="prefetch" href="/xingorg1Note/assets/js/33.ca210a58.js"><link rel="prefetch" href="/xingorg1Note/assets/js/34.5cb90021.js"><link rel="prefetch" href="/xingorg1Note/assets/js/35.9dc6ca49.js"><link rel="prefetch" href="/xingorg1Note/assets/js/36.0e96d823.js"><link rel="prefetch" href="/xingorg1Note/assets/js/37.883123ae.js"><link rel="prefetch" href="/xingorg1Note/assets/js/38.b4637d51.js"><link rel="prefetch" href="/xingorg1Note/assets/js/39.ff743382.js"><link rel="prefetch" href="/xingorg1Note/assets/js/4.1071ed0f.js"><link rel="prefetch" href="/xingorg1Note/assets/js/40.6ee70d2f.js"><link rel="prefetch" href="/xingorg1Note/assets/js/41.600ce160.js"><link rel="prefetch" href="/xingorg1Note/assets/js/42.492089b3.js"><link rel="prefetch" href="/xingorg1Note/assets/js/43.a0575336.js"><link rel="prefetch" href="/xingorg1Note/assets/js/44.f392b4b6.js"><link rel="prefetch" href="/xingorg1Note/assets/js/45.efbcc05a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/46.826baa6f.js"><link rel="prefetch" href="/xingorg1Note/assets/js/47.e65e9cb7.js"><link rel="prefetch" href="/xingorg1Note/assets/js/48.2c8805f5.js"><link rel="prefetch" href="/xingorg1Note/assets/js/49.98f7bd3a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/5.b45eaccc.js"><link rel="prefetch" href="/xingorg1Note/assets/js/50.4d157e98.js"><link rel="prefetch" href="/xingorg1Note/assets/js/51.dd74ec41.js"><link rel="prefetch" href="/xingorg1Note/assets/js/52.e6b74eb5.js"><link rel="prefetch" href="/xingorg1Note/assets/js/53.7395920a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/54.60ecb51e.js"><link rel="prefetch" href="/xingorg1Note/assets/js/55.1d23f13b.js"><link rel="prefetch" href="/xingorg1Note/assets/js/56.d7bf9705.js"><link rel="prefetch" href="/xingorg1Note/assets/js/57.d6cfc41d.js"><link rel="prefetch" href="/xingorg1Note/assets/js/58.c37cdd9a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/59.a6d2f9f2.js"><link rel="prefetch" href="/xingorg1Note/assets/js/6.3e4149ed.js"><link rel="prefetch" href="/xingorg1Note/assets/js/60.4f301de1.js"><link rel="prefetch" href="/xingorg1Note/assets/js/61.fd5e1b1e.js"><link rel="prefetch" href="/xingorg1Note/assets/js/62.c32a4362.js"><link rel="prefetch" href="/xingorg1Note/assets/js/63.57c574cd.js"><link rel="prefetch" href="/xingorg1Note/assets/js/64.59d5f93a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/65.9b45ea6d.js"><link rel="prefetch" href="/xingorg1Note/assets/js/66.c690d7d9.js"><link rel="prefetch" href="/xingorg1Note/assets/js/67.1cf63dc2.js"><link rel="prefetch" href="/xingorg1Note/assets/js/68.14637065.js"><link rel="prefetch" href="/xingorg1Note/assets/js/69.20a58fe2.js"><link rel="prefetch" href="/xingorg1Note/assets/js/7.7415c53c.js"><link rel="prefetch" href="/xingorg1Note/assets/js/70.cb270ba6.js"><link rel="prefetch" href="/xingorg1Note/assets/js/71.b8901a23.js"><link rel="prefetch" href="/xingorg1Note/assets/js/72.9679b478.js"><link rel="prefetch" href="/xingorg1Note/assets/js/73.715eecbb.js"><link rel="prefetch" href="/xingorg1Note/assets/js/74.20133379.js"><link rel="prefetch" href="/xingorg1Note/assets/js/75.fe2ee778.js"><link rel="prefetch" href="/xingorg1Note/assets/js/76.e5c67cd3.js"><link rel="prefetch" href="/xingorg1Note/assets/js/77.cd251180.js"><link rel="prefetch" href="/xingorg1Note/assets/js/78.9c9bdd4c.js"><link rel="prefetch" href="/xingorg1Note/assets/js/79.8c88d278.js"><link rel="prefetch" href="/xingorg1Note/assets/js/8.9b7aa859.js"><link rel="prefetch" href="/xingorg1Note/assets/js/80.9ffb9cab.js"><link rel="prefetch" href="/xingorg1Note/assets/js/81.ccc57608.js"><link rel="prefetch" href="/xingorg1Note/assets/js/82.65d29c00.js"><link rel="prefetch" href="/xingorg1Note/assets/js/83.995c2d9a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/84.b7568927.js"><link rel="prefetch" href="/xingorg1Note/assets/js/85.565ba952.js"><link rel="prefetch" href="/xingorg1Note/assets/js/86.4e1ce631.js"><link rel="prefetch" href="/xingorg1Note/assets/js/87.2d2d0594.js"><link rel="prefetch" href="/xingorg1Note/assets/js/88.7f20bb70.js"><link rel="prefetch" href="/xingorg1Note/assets/js/89.3899e1f5.js"><link rel="prefetch" href="/xingorg1Note/assets/js/9.5f48116f.js"><link rel="prefetch" href="/xingorg1Note/assets/js/90.0a6ab849.js"><link rel="prefetch" href="/xingorg1Note/assets/js/91.654d3d51.js"><link rel="prefetch" href="/xingorg1Note/assets/js/92.22d58e97.js"><link rel="prefetch" href="/xingorg1Note/assets/js/93.95a60c3d.js"><link rel="prefetch" href="/xingorg1Note/assets/js/94.e1cc655a.js"><link rel="prefetch" href="/xingorg1Note/assets/js/95.38de008c.js"><link rel="prefetch" href="/xingorg1Note/assets/js/96.46e019ab.js"><link rel="prefetch" href="/xingorg1Note/assets/js/97.15aee5e4.js"><link rel="prefetch" href="/xingorg1Note/assets/js/98.6c7aa759.js"><link rel="prefetch" href="/xingorg1Note/assets/js/99.2f6a8d70.js">
    <link rel="stylesheet" href="/xingorg1Note/assets/css/0.styles.668c131b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><main><main slot="sidebar-top"><!----></main> <div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xingorg1Note/" class="home-link router-link-active"><img src="https://xingorg1.github.io/xingorg1Note/images/logo.png" alt="前端印记 DFE_evernote" class="logo"> <span class="site-name can-hide">前端印记 DFE_evernote</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/http/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/web/" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/es/" class="nav-link">ES</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/mobile/" class="nav-link">Mobile</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/browser/" class="nav-link">Browser</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><span class="title">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/modularity/" class="nav-link">模块化</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/packageManager/" class="nav-link">包管理器</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/typescript/" class="nav-link">TS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/" class="nav-link">基础语法</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/modules/01-time.html" class="nav-link">模块</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/thinking/01-problem.html" class="nav-link">编程思维</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/practice/00-base.html" class="nav-link">小练习</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/games/01-KOF.html" class="nav-link">小游戏</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/project/01-email.html" class="nav-link">大项目</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/spider/" class="nav-link">爬虫</a></li></ul></li><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/MySQL/" class="nav-link">基础</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/Java/" class="nav-link">基础</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/gitbook/" class="nav-link">GitBook</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/github/" class="nav-link">GitHub</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/npm/" class="nav-link">NPM</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="记录生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>爱好</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/painting/" class="nav-link">绘画</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/music/" class="nav-link">音乐</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/movie/" class="nav-link">影视</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/english/" class="nav-link">英语</a></li></ul></li><li class="dropdown-item"><h4>文集</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/diary/" class="nav-link">日记</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/reading/" class="nav-link">阅读</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/essays/" class="nav-link">感悟</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/creative/" class="nav-link">奇思</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/novel/" class="nav-link">小说</a></li></ul></li><li class="dropdown-item"><h4>摄影</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/photograph/dailyLife/" class="nav-link">生活</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/photograph/scenery/" class="nav-link">风景</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/" class="nav-link">名称由来</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/aboutMe/" class="nav-link">我的履历</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/contact/" class="nav-link">与我联系</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/myblog/" class="nav-link">我的博客</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/model/" class="nav-link">模范灯塔</a></li><li class="dropdown-item"><!----> <a href="http://www.cnblogs.com/padding1015/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xingorg1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~xing.org1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/58e704a02f301e0062343c10" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/xing.org1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/xingorg1/xingorg1Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/http/" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/web/" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/es/" class="nav-link">ES</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/mobile/" class="nav-link">Mobile</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webNote/browser/" class="nav-link">Browser</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端进阶" class="dropdown-title"><span class="title">前端进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/modularity/" class="nav-link">模块化</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/packageManager/" class="nav-link">包管理器</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/webAdvance/typescript/" class="nav-link">TS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/" class="nav-link">基础语法</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/modules/01-time.html" class="nav-link">模块</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/thinking/01-problem.html" class="nav-link">编程思维</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/practice/00-base.html" class="nav-link">小练习</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/games/01-KOF.html" class="nav-link">小游戏</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/project/01-email.html" class="nav-link">大项目</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/python/spider/" class="nav-link">爬虫</a></li></ul></li><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/MySQL/" class="nav-link">基础</a></li></ul></li><li class="dropdown-item"><h4>Java</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/backEnd/Java/" class="nav-link">基础</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/gitbook/" class="nav-link">GitBook</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/github/" class="nav-link">GitHub</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/devTools/npm/" class="nav-link">NPM</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="记录生活" class="dropdown-title"><span class="title">生活</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>爱好</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/painting/" class="nav-link">绘画</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/music/" class="nav-link">音乐</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/movie/" class="nav-link">影视</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/hobby/english/" class="nav-link">英语</a></li></ul></li><li class="dropdown-item"><h4>文集</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/diary/" class="nav-link">日记</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/reading/" class="nav-link">阅读</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/essays/" class="nav-link">感悟</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/creative/" class="nav-link">奇思</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/diarys/novel/" class="nav-link">小说</a></li></ul></li><li class="dropdown-item"><h4>摄影</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/xingorg1Note/photograph/dailyLife/" class="nav-link">生活</a></li><li class="dropdown-subitem"><a href="/xingorg1Note/photograph/scenery/" class="nav-link">风景</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/" class="nav-link">名称由来</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/aboutMe/" class="nav-link">我的履历</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/contact/" class="nav-link">与我联系</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/myblog/" class="nav-link">我的博客</a></li><li class="dropdown-item"><!----> <a href="/xingorg1Note/about/model/" class="nav-link">模范灯塔</a></li><li class="dropdown-item"><!----> <a href="http://www.cnblogs.com/padding1015/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xingorg1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~xing.org1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/58e704a02f301e0062343c10" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/xing.org1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/xingorg1/xingorg1Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/xingorg1Note/webAdvance/" class="sidebar-link">前端进阶</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>包管理器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xingorg1Note/webAdvance/vue/" class="sidebar-link">Vue 学习笔记</a></li><li><a href="/xingorg1Note/webAdvance/vue/vue+md_建立博客.html" class="sidebar-link">vue + markdown</a></li><li><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html" class="active sidebar-link">Vue + TS踩坑总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#目录结构" class="sidebar-link">目录结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#一、找不到-app-vue" class="sidebar-link">一、找不到 App.vue</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#二、prototype-挂载全局变量" class="sidebar-link">二、prototype 挂载全局变量</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#全局组件注册" class="sidebar-link">全局组件注册</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#sfc-文件模板" class="sidebar-link">SFC 文件模板</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#filter" class="sidebar-link">filter</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#自定义指令" class="sidebar-link">自定义指令</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#watch" class="sidebar-link">watch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#一、单页面监听" class="sidebar-link">一、单页面监听</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#二、父子传值监听" class="sidebar-link">二、父子传值监听</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#watch-监听-store" class="sidebar-link">Watch 监听 store</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#watch-监听-router" class="sidebar-link">watch 监听 router</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#监听路由的第二种写法" class="sidebar-link">监听路由的第二种写法</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#router-导航守卫与钩子函数" class="sidebar-link">router 导航守卫与钩子函数</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#父子传值" class="sidebar-link">父子传值</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#prop-默认参数" class="sidebar-link">@Prop 默认参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#一、ts-写法" class="sidebar-link">一、TS 写法</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#二、vue-原生写法" class="sidebar-link">二、VUE 原生写法</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#prop-多类型定义" class="sidebar-link">@Prop 多类型定义</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#中央总线" class="sidebar-link">中央总线</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#vue-echarts-使用" class="sidebar-link">vue-echarts 使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_1、模块安装" class="sidebar-link">1、模块安装</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_2、引入与注册" class="sidebar-link">2、引入与注册</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_3、vue-config-配置" class="sidebar-link">3、vue.config 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_4、tsconfig-配置" class="sidebar-link">4、tsconfig 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_5、sfc-中使用" class="sidebar-link">5、SFC 中使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#element-ui-使用" class="sidebar-link">Element-ui 使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_1、安装" class="sidebar-link">1、安装</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_2、引入与注册-2" class="sidebar-link">2、引入与注册</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#全局-scss-变量" class="sidebar-link">全局 scss 变量</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#alias-别名设置" class="sidebar-link">alias 别名设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_1、vue-config-js-配置" class="sidebar-link">1、vue.config.js 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_2、jsconfig-json-配置" class="sidebar-link">2、jsconfig.json 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_3、scf-使用设定的别名" class="sidebar-link">3、SCF 使用设定的别名</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#后端接口代理" class="sidebar-link">后端接口代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_1、vue-config-js-配置-2" class="sidebar-link">1、vue.config.js 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_2、axios-地址参数" class="sidebar-link">2、axios 地址参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#开发环境域名" class="sidebar-link">开发环境域名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_1、vue-config-配置" class="sidebar-link">1、vue.config 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_2、package-json-配置" class="sidebar-link">2、package.json 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_3、本地-host-配置" class="sidebar-link">3、本地 host 配置</a></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#_4、访问地址" class="sidebar-link">4、访问地址</a></li></ul></li><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#vscode-中的问题" class="sidebar-link">vscode 中的问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/xingorg1Note/webAdvance/vue/vue+ts_踩坑总结.html#一、找不到模块" class="sidebar-link">一、找不到模块</a></li></ul></li></ul></li><li><a href="/xingorg1Note/webAdvance/vue/vue-nextTickSourceMap.html" class="sidebar-link">nextTick源码解析</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-ts-踩坑记录与方案总结"><a href="#vue-ts-踩坑记录与方案总结" class="header-anchor">¶</a> Vue+TS 踩坑记录与方案总结</h1> <h2 id="前言"><a href="#前言" class="header-anchor">¶</a> 前言</h2> <p>vue 和 TypeScript 结合的情况下，很多写法和我们平时的写法都不太一样</p> <p>这里总结我项目开发过程中遇到的问题和问题的解决方案</p> <p><strong>有些问题可能还没解决，欢迎各位大佬给与提点。</strong></p> <p>使用本文前可以先看<a href="https://cn.vuejs.org/v2/guide/typescript.html" target="_blank" rel="noopener noreferrer">vue 官方文档关于 typescript 的使用讲解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="目录结构"><a href="#目录结构" class="header-anchor">¶</a> 目录结构</h2> <blockquote><p>说明：整个 vue 项目的目录结构</p></blockquote> <p>大体用 vue-cli 创建的项目，结构基本不变。这里只写我后来为了解决问题改动的地方</p> <h3 id="一、找不到-app-vue"><a href="#一、找不到-app-vue" class="header-anchor">¶</a> 一、找不到 App.vue</h3> <blockquote><p>说明：main.ts 中，提示<code>import App from './App.vue'</code>处，找不到 App.vue 这个模块。导致 App.vue 下边“画了红线”</p></blockquote> <p><strong>解决方案三步走：</strong></p> <p>1、将 shims-vue.d.ts 文件一分为二。<br>
2、在 shims-vue.d.ts 文件同级目录下新建 vue.d.ts<br>
（名字不一定叫 vue，如 xxx.d.ts 也可以），然后此文件包含代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.d.ts</span>
declare module <span class="token string">'*.vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> Vue
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>3、而原来的 shims-vue.d.ts 代码修改、新增如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// shims-vue.d.ts</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter<span class="token punctuation">,</span> <span class="token punctuation">{</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

declare module <span class="token string">'vue/types/vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    $router<span class="token punctuation">:</span> VueRouter<span class="token punctuation">;</span>
    $route<span class="token punctuation">:</span> Route<span class="token punctuation">;</span>
    $store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">// 以下是在main.ts中挂载到Vue.prototype上的变量</span>
    $api<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
    $mock<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
    $configs<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="二、prototype-挂载全局变量"><a href="#二、prototype-挂载全局变量" class="header-anchor">¶</a> 二、prototype 挂载全局变量</h3> <blockquote><p>说明：main.ts 中，往 Vue 的原型 prototype 上挂载全局变量</p></blockquote> <p><strong>解决方案 2 步骤：</strong><br>
1、main.ts 配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> api <span class="token keyword">from</span> <span class="token string">&quot;./api/request&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> mock <span class="token keyword">from</span> <span class="token string">&quot;./api/mock&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> configs <span class="token keyword">from</span> <span class="token string">&quot;./utils/config&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$api <span class="token operator">=</span> api<span class="token punctuation">;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$mock <span class="token operator">=</span> mock<span class="token punctuation">;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$configs <span class="token operator">=</span> configs<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>2、shims-vue.d.ts 配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// shims-vue.d.ts 新增如下</span>
declare module <span class="token string">'vue/types/vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// 以下是在main.ts中挂载到Vue.prototype上的变量</span>
    $api<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
    $mock<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
    $configs<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="全局组件注册"><a href="#全局组件注册" class="header-anchor">¶</a> 全局组件注册</h2> <p>注册</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> Page <span class="token keyword">from</span> <span class="token string">&quot;@/components/page.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AllComponent <span class="token keyword">from</span> <span class="token string">&quot;@/common/AllComponent.vue&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;Page&quot;</span><span class="token punctuation">,</span> Page<span class="token punctuation">)</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;all-component&quot;</span><span class="token punctuation">,</span> AllComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>写法一：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token punctuation">/&gt;</span></span>
写法二：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>all-component</span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="sfc-文件模板"><a href="#sfc-文件模板" class="header-anchor">¶</a> SFC 文件模板</h2> <blockquote><p>说明：SFC 单 vue 文件组件的基本写法和结构</p></blockquote> <p>一个简陋的 demo，展示 ts 下的 vue 文件中，对于相关功能的使用。
<strong>重点关注<code>&lt;Script&gt;</code>里的代码</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 结构示例，指令基础用法同vue --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>minos-system-setting<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hideHeader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>结构示例<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ selfKey1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in fatherKey<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>追加文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AnotherVue</span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>['default-class', selfKey1.length &gt; 10 ? 'one' : 'two']<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> AnotherVue <span class="token keyword">from</span> <span class="token string">&quot;@/components/AnotherVue.vue&quot;</span><span class="token punctuation">;</span>
  @<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 组件注册</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      AnotherVue
      <span class="token comment">// 'another-vue': AnotherVue</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 过滤器</span>
    filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">filterFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 属性传递</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      hideHeader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
        required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 默认属性的默认值</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ComponentName</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
      required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 默认属性的默认值</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> hideHeader<span class="token operator">!</span><span class="token punctuation">:</span> boolean <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> fatherKey<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 其他没有默认值的传值</span>
    selfKey1<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">&quot;自己的一个变量&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 生命周期</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 计算属性</span>
    <span class="token keyword">get</span> <span class="token function">computedKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selfKey1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 监听器</span>
    @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">&quot;computedKey&quot;</span><span class="token punctuation">)</span>
    <span class="token function">getcomputedKey</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 导航守卫函数</span>
    <span class="token keyword">private</span> <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;beforeRouteEnter&quot;</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 方法</span>
    <span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>selfKey1 <span class="token operator">+=</span> <span class="token string">&quot;，追加文字！&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;@/assets/styles/demo.scss&quot;</span><span class="token punctuation">;</span></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h2 id="filter"><a href="#filter" class="header-anchor">¶</a> filter</h2> <blockquote><p>vue+ts 中，使用 filter 过滤器</p></blockquote> <p>1、定义：（在@Component 里边，写 filters，注意 s 单词）</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
  @<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">filterValue</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// otherFilterFn(value) { 其他filter示例</span>
      <span class="token comment">//   return ...</span>
      <span class="token comment">// }</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>2、使用：同之前，正常使用</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- html中 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>showSpan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{showValue | filterValue}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="自定义指令"><a href="#自定义指令" class="header-anchor">¶</a> 自定义指令</h2> <blockquote><p>自定义指令 过滤器【待补充】</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 待补充</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="computed"><a href="#computed" class="header-anchor">¶</a> computed</h2> <blockquote><p>说明：computed 计算属性的写法</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 计算属性</span>
<span class="token keyword">get</span> <span class="token function">computedKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selfKey1<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="watch"><a href="#watch" class="header-anchor">¶</a> watch</h2> <blockquote><p>说明：watch 监听器的使用</p></blockquote> <h3 id="一、单页面监听"><a href="#一、单页面监听" class="header-anchor">¶</a> 一、单页面监听</h3> <p>同一个 vue 页面中使用 Watch 监听本页面某数据的改变：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span>

@<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'boxHeight'</span><span class="token punctuation">)</span>
<span class="token function">getboxHeight</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// get+上边括号里的名字</span>
	<span class="token comment">// xxx</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="二、父子传值监听"><a href="#二、父子传值监听" class="header-anchor">¶</a> 二、父子传值监听</h3> <p>父子两个 vue 页面传值后使用 watch 监听。<strong>子组件监听从父组件传过来的值，需要如下五个关键步骤：</strong></p> <ul><li>1、父组件用属性传值【前提是父组件引入子组件、注册并调用了】</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>ziZuJian <span class="token punctuation">:</span>oneKey<span class="token operator">=</span><span class="token string">&quot;oneKeyObj&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>2、子组件引入要使用的<code>Prop, Watch</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>3、子组件 Prop 接受父组件传过来的值</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ZiZuJian</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> oneKey<span class="token punctuation">:</span> object
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>4、子组件 Watch 监听父组件传过来的值</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>@<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'oneKey'</span><span class="token punctuation">)</span>
<span class="token function">getoneKey</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span>oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 监听成功后要做</span>
  <span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myfunction</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>5、父组件（内部）改动值，会被子组件监听，做后续操作</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 如下代码模拟父组件中，值被改变的情况</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FuZuJian</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  oneKeyObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token operator">...</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token comment">// 适时情况下改动props传递的值，就会被子组件监听到改变</span>
      oneKeyObj <span class="token operator">=</span> <span class="token punctuation">{</span>
        name <span class="token punctuation">:</span> <span class="token string">'测试'</span>
      <span class="token punctuation">}</span>
      oneKeyObj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="watch-监听-store"><a href="#watch-监听-store" class="header-anchor">¶</a> Watch 监听 store</h2> <blockquote><p>Watch 监听 store 中的数据改变</p></blockquote> <p>主要思路是计算属性获取 state 里的数据，watch 再监听计算属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span> <span class="token comment">// 引入Watch</span>
<span class="token keyword">get</span> <span class="token function">stateSomeKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 计算属性</span>
  <span class="token comment">// 监听state下的stateSomeKey对象中的keyName属性，return返回该值</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'$store'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stateSomeKey<span class="token punctuation">.</span>keyName
<span class="token punctuation">}</span>
@<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'stateSomeKey'</span><span class="token punctuation">)</span> <span class="token comment">// 与上边计算属性同名</span>
<span class="token function">getstateSomeKey</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// get+上边括号里的名字</span>
  <span class="token comment">// 监听到变化后，执行对应的内容</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>其中，第七行，监听器那里也可以这么写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>@<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'stateSomeKey'</span><span class="token punctuation">)</span> <span class="token comment">// 与上边计算属性同名</span>
<span class="token function">watchMenuState</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 这里可以这么写：或用watch+上边括号里的名字也可以（虽然不太确定为什么，只是代码这么写成功了）</span>
  <span class="token comment">// 下同</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="watch-监听-router"><a href="#watch-监听-router" class="header-anchor">¶</a> watch 监听 router</h2> <blockquote><p>watch 监听 router 的变化</p></blockquote> <p><strong>三个关键步骤设置如下：</strong></p> <ul><li>1、shims-vue.d.ts 的设置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// shims-vue.d.ts</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter<span class="token punctuation">,</span> <span class="token punctuation">{</span>Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>

declare module <span class="token string">'vue/types/vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    $router<span class="token punctuation">:</span> VueRouter<span class="token punctuation">;</span> <span class="token comment">// 这表示this下有这个东西</span>
    $route<span class="token punctuation">:</span> Route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>2、main.ts 的设置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-class-component&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
Component<span class="token punctuation">.</span><span class="token function">registerHooks</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token string">&quot;beforeRouteEnter&quot;</span><span class="token punctuation">,</span> <span class="token comment">//进入路由之前</span>
  <span class="token string">&quot;beforeRouteLeave&quot;</span><span class="token punctuation">,</span> <span class="token comment">//离开路由之前</span>
  <span class="token string">&quot;beforeRouteUpdate&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>3、需要监听路由钩子的 SCF 组件：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// xxx.vue 的script标签内</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> RawLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
  <span class="token comment">// # 下边两段，看你需要什么就选哪段代码：</span>

  <span class="token comment">// 1、监听路由变化</span>
  @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'$route'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token function">changeRouter</span><span class="token punctuation">(</span><span class="token parameter">route<span class="token punctuation">:</span> Route</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 2、定义路由钩子函数</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteEnter'</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 没有next将不会进入路由内部，跟vue文档用法一致</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteUpdate</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 暂时不生效，版本问题</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteLeave'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="监听路由的第二种写法"><a href="#监听路由的第二种写法" class="header-anchor">¶</a> 监听路由的第二种写法</h2> <blockquote><p>(如果只是想更新视图的话可以考虑监听路由)</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>@<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'$route'</span><span class="token punctuation">)</span>
<span class="token function">routeWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="router-导航守卫与钩子函数"><a href="#router-导航守卫与钩子函数" class="header-anchor">¶</a> router 导航守卫与钩子函数</h2> <blockquote><p>main.ts 中注册路由导航守卫并在组件中使用路由钩子函数</p></blockquote> <p>基本同上，需要三步</p> <ul><li>1、shims-vue.d.ts 的设置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// shims-vue.d.ts</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter<span class="token punctuation">,</span> <span class="token punctuation">{</span>Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>

declare module <span class="token string">'vue/types/vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    $router<span class="token punctuation">:</span> VueRouter<span class="token punctuation">;</span> <span class="token comment">// 这表示this下有这个东西</span>
    $route<span class="token punctuation">:</span> Route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>2、main.ts 的设置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-class-component&quot;</span><span class="token punctuation">;</span>
Component<span class="token punctuation">.</span><span class="token function">registerHooks</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token string">&quot;beforeRouteEnter&quot;</span><span class="token punctuation">,</span> <span class="token comment">//进入路由之前</span>
  <span class="token string">&quot;beforeRouteLeave&quot;</span><span class="token punctuation">,</span> <span class="token comment">//离开路由之前</span>
  <span class="token string">&quot;beforeRouteUpdate&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>3、需要监听路由钩子的 SCF 组件：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// xxx.vue 的script标签内</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> RawLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
  <span class="token comment">// # 下边两段，看你需要什么了：</span>

  <span class="token comment">// 1/监听路由变化</span>
  @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'$route'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token function">changeRouter</span><span class="token punctuation">(</span><span class="token parameter">route<span class="token punctuation">:</span> Route</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 2/定义路由钩子函数</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteEnter'</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 没有next将不会进入路由内部，跟vue文档用法一致</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteUpdate</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 暂时不生效，版本问题</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">:</span> Route<span class="token punctuation">,</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeRouteLeave'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="父子传值"><a href="#父子传值" class="header-anchor">¶</a> 父子传值</h2> <blockquote><p>说明：父子传值 - 子组件修改触发父组件的方法执行</p></blockquote> <p><strong>父组件内部：</strong><br>
1、调用子组件、并绑定传值：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 引入、注册子组件后，调用子组件: --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ZiZuJian</span> <span class="token attr-name">@chuanDiGuoQu</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>FuQinZiJiYong<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ZiZuJian</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2、准备好一会会被子组件触发的函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">FuQinZiJiYong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是父亲内部待被触发的方法'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>子组件 ZiZuJian 内部：</strong></p> <p>1、在需要触发的地方执行$emit</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Menu</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在需要触发的地方，执行如下代码</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'chuanDiGuoQu'</span><span class="token punctuation">,</span> <span class="token string">'传参'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>最后还有另一种网友总结很麻烦的写法：<a href="https://blog.csdn.net/weixin_43713680/article/details/86708415" target="_blank" rel="noopener noreferrer">参见地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="prop-默认参数"><a href="#prop-默认参数" class="header-anchor">¶</a> @Prop 默认参数</h2> <h3 id="一、ts-写法"><a href="#一、ts-写法" class="header-anchor">¶</a> 一、TS 写法</h3> <p>github 找到的 demo 这样。如下代码中<code>hideHeader</code>就是由默认参数的父组件传过来的属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ComponentName</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
    required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 默认属性的默认值</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> hideHeader<span class="token operator">!</span><span class="token punctuation">:</span> boolean <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="二、vue-原生写法"><a href="#二、vue-原生写法" class="header-anchor">¶</a> 二、VUE 原生写法</h3> <p>vue 原生的写法，写到了@component 构造器中就好了：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hideHeader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
      required<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 默认属性的默认值</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 如果不传值此函数默认就是 true，传 false 就是 false 了。</span>
<span class="token comment">// 并且能严格判断只能传 Boolean 类型。挺好。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="prop-多类型定义"><a href="#prop-多类型定义" class="header-anchor">¶</a> @Prop 多类型定义</h2> <blockquote><p>说明：如果 prop 接受的参数，有多个类型传递的需要，可以这么定义</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ComponentName</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token punctuation">[</span>Boolean<span class="token punctuation">,</span>Number<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 有数字和布尔两种参数可能性</span>
    required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 必传</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">true</span>  <span class="token comment">// 默认值为true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> hideHeader<span class="token operator">!</span><span class="token punctuation">:</span> boolean <span class="token operator">|</span> number
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="中央总线"><a href="#中央总线" class="header-anchor">¶</a> 中央总线</h2> <blockquote><p>说明：中央总线注册与使用【待解决】</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 待解决</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="vue-echarts-使用"><a href="#vue-echarts-使用" class="header-anchor">¶</a> vue-echarts 使用</h2> <blockquote><p>说明：vue + ts 中使用 vue-echarts</p></blockquote> <h3 id="_1、模块安装"><a href="#_1、模块安装" class="header-anchor">¶</a> 1、模块安装</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i -S vue-echarts echarts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2、引入与注册"><a href="#_2、引入与注册" class="header-anchor">¶</a> 2、引入与注册</h3> <p>main.ts 中:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts</span>
<span class="token comment">// 引用</span>
<span class="token keyword">import</span> ECharts <span class="token keyword">from</span> <span class="token string">&quot;vue-echarts&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 用到的模块要单独引用</span>
<span class="token keyword">import</span> <span class="token string">&quot;echarts/lib/chart/line&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 线图为例，其他图一样</span>
<span class="token keyword">import</span> <span class="token string">&quot;echarts/lib/component/title.js&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 标题</span>
<span class="token keyword">import</span> <span class="token string">&quot;echarts/lib/component/legend&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 图例</span>
<span class="token keyword">import</span> <span class="token string">&quot;echarts/lib/component/tooltip&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 提示框</span>
<span class="token keyword">import</span> <span class="token string">&quot;echarts/lib/component/toolbox&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 工具（如下载功能与按钮）</span>

<span class="token comment">// 注册</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;v-chart&quot;</span><span class="token punctuation">,</span> ECharts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3、vue-config-配置"><a href="#_3、vue-config-配置" class="header-anchor">¶</a> 3、vue.config 配置</h3> <p>vue.config.js 中设置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// For Vue CLI 3+, add vue-echarts and resize-detector into transpileDependencies in vue.config.js like this:</span>
  transpileDependencies<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue-echarts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;resize-detector&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4、tsconfig-配置"><a href="#_4、tsconfig-配置" class="header-anchor">¶</a> 4、tsconfig 配置</h3> <p>tsconfig.json 中也要设置</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;webpack-env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;echarts&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5、sfc-中使用"><a href="#_5、sfc-中使用" class="header-anchor">¶</a> 5、SFC 中使用</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-chart</span> <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>echartsOptions<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myCharts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myCharts<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="element-ui-使用"><a href="#element-ui-使用" class="header-anchor">¶</a> Element-ui 使用</h2> <blockquote><p>说明：vue + ts 中使用 Element-ui</p></blockquote> <p>详细步骤可看 <a href="https://element.eleme.cn/#/zh-CN/component/installation" target="_blank" rel="noopener noreferrer">element 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>文档</p> <h3 id="_1、安装"><a href="#_1、安装" class="header-anchor">¶</a> 1、安装</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i element-ui -S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2、引入与注册-2"><a href="#_2、引入与注册-2" class="header-anchor">¶</a> 2、引入与注册</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts 模块引入与注册</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">&quot;element-ui&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="全局-scss-变量"><a href="#全局-scss-变量" class="header-anchor">¶</a> 全局 scss 变量</h2> <p>在 assets/styles 下新建 _variable.scss 文件（文件名自定义），用于存放 scss 变量。</p> <p>然后于 vue.config.js 中设置全局变量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  css<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loaderOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      sass<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        prependData<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          @import &quot;@/assets/styles/_variable.scss&quot;;
        </span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="alias-别名设置"><a href="#alias-别名设置" class="header-anchor">¶</a> alias 别名设置</h2> <p>同时解决问题<code>alias 配置的路径别名，在 vscode 中报错模块查找失败</code>和问题<code>vue-cli 配置了 resolve alias 来声明的路径别名，在引用了 ts 后，vscode 会报错不能识别、模块查找失败</code>。</p> <p>其中，vscode 报错在 win 环境还需要一个插件安装，解决方案见下边</p> <h3 id="_1、vue-config-js-配置"><a href="#_1、vue-config-js-配置" class="header-anchor">¶</a> 1、vue.config.js 配置</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token punctuation">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 别名配置</span>
    config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;comp&quot;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src/components&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;css&quot;</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src/assets/styles&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...同上，路径核对好就行</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2、jsconfig-json-配置"><a href="#_2、jsconfig-json-配置" class="header-anchor">¶</a> 2、jsconfig.json 配置</h3> <p>注意这里的名字要和上边 set 后边的名字保持一致</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// jsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;paths&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;@/*&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/*&quot;</span> <span class="token comment">// 这个本来就有</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token operator">/</span><span class="token operator">/</span> 后边追加
      <span class="token string">&quot;comp/*&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/components/*&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;css/*&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/assets/styles/*&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// ... 同上，路径核对好就行</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3、scf-使用设定的别名"><a href="#_3、scf-使用设定的别名" class="header-anchor">¶</a> 3、SCF 使用设定的别名</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.ts中使用</span>
<span class="token keyword">import</span> MyError <span class="token keyword">from</span> <span class="token string">&quot;view/error/Error.vue&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* SCF单页中scss路径引用 */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;css/_variable.scss&quot;</span><span class="token punctuation">;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="后端接口代理"><a href="#后端接口代理" class="header-anchor">¶</a> 后端接口代理</h2> <blockquote><p>说明：请求接口的代理设置</p></blockquote> <h3 id="_1、vue-config-js-配置-2"><a href="#_1、vue-config-js-配置-2" class="header-anchor">¶</a> 1、vue.config.js 配置</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;/api&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">&quot;http://11.11.11.111/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 示例ip地址，也可以填域名，需要的是后端接口地址的相同部分</span>
        changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          <span class="token string">&quot;^/api&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_2、axios-地址参数"><a href="#_2、axios-地址参数" class="header-anchor">¶</a> 2、axios 地址参数</h3> <p>注意<code>/api</code>一定要有，且在路径的最前边，代替相同的路径。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/api/my/url&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 前边的'/api'一定要有，它代表的就是vue.config.js中proxy.target的路径</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 接口成功...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="开发环境域名"><a href="#开发环境域名" class="header-anchor">¶</a> 开发环境域名</h2> <blockquote><p>说明：本地服务域名修改，用域名代替 https//localhost:8080 的访问地址</p></blockquote> <h3 id="_1、vue-config-配置"><a href="#_1、vue-config-配置" class="header-anchor">¶</a> 1、vue.config 配置</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    disableHostCheck<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 用域名代替localhost,禁用主机检查</span>
    host<span class="token punctuation">:</span> <span class="token string">&quot;www.haha.com&quot;</span>
    <span class="token comment">// 另外端口也可以在这里改，只不过我写到了package.json总，见下边</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2、package-json-配置"><a href="#_2、package-json-配置" class="header-anchor">¶</a> 2、package.json 配置</h3> <p>开发命令配置</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;npm run serve&quot;</span>,
    <span class="token string">&quot;serve&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;vue-cli-service serve --port 80 --open&quot;</span>, <span class="token comment"># 端口设置为80，--open运行完毕后自动打开地址</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3、本地-host-配置"><a href="#_3、本地-host-配置" class="header-anchor">¶</a> 3、本地 host 配置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1 www.haha.com <span class="token comment"># 这里注意和vue.config.js中的host的值对应</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4、访问地址"><a href="#_4、访问地址" class="header-anchor">¶</a> 4、访问地址</h3> <p>此时，<code>npm run dev</code>成功后，浏览器跑项目输入地址<code>http://www.haha.com</code>即可</p> <h2 id="vscode-中的问题"><a href="#vscode-中的问题" class="header-anchor">¶</a> vscode 中的问题</h2> <blockquote><p>说明： vue + ts 在 vscode 中的问题</p></blockquote> <h3 id="一、找不到模块"><a href="#一、找不到模块" class="header-anchor">¶</a> 一、找不到模块</h3> <blockquote><p>说明：别名引入模块不能识别。vue-cli 配置了 resolve alias 来声明的路径别名，在引用了 ts 后，vscode 会报错不能识别、模块查找失败：</p></blockquote> <ul><li><p>1、扩展商店安装插件 - Path Intellisense</p></li> <li><p>2、配置代码（vscode setting.json 中设置）</p></li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;path-intellisense.mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\${workspaceRoot}/src&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>3、在 package.json 统计目录下创建 jsconfig.json 文件，并填入下边代码</li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// jsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><!----></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/xingorg1/xingorg1Note/edit/develop/docs/webAdvance/vue/vue+ts_踩坑总结.md" target="_blank" rel="noopener noreferrer">帮助我来改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">5/30/2020, 12:12:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/xingorg1Note/webAdvance/vue/vue+md_建立博客.html" class="prev">vue + markdown</a></span> <span class="next"><a href="/xingorg1Note/webAdvance/vue/vue-nextTickSourceMap.html">nextTick源码解析</a>
      →
    </span></p></div> </main></div> <div class="footer" data-v-35b17a59><div id="footer-info" data-v-35b17a59><div class="footer-left" data-v-35b17a59>
      © 2019-2020
      <span data-v-35b17a59><a href="https://github.com/xingorg1" target="_blank">xing.org1^ 小石头</a></span></div> <div class="footer-right" data-v-35b17a59>Theme:<a href="https://github.com/JoeyBling/vuepress-theme-yilia-plus" target="_blank">vuepress-theme-yilia-plus</a> by Litten</div></div> <div class="busuanzi" data-v-35b17a59><span id="busuanzi_container_site_pv" style="display:none">
    本站总访问量
    <span id="busuanzi_value_site_pv"></span>次
    <span class="post-meta-divider">|</span></span> <span id="busuanzi_container_site_uv" style="display:none">
    本站访客数
    <span id="busuanzi_value_site_uv"></span>人
  </span></div></div></main><div class="global-ui"><!----></div></div>
    <script src="/xingorg1Note/assets/js/app.42ff0526.js" defer></script><script src="/xingorg1Note/assets/js/2.40938a97.js" defer></script><script src="/xingorg1Note/assets/js/112.ea090178.js" defer></script>
  </body>
</html>
